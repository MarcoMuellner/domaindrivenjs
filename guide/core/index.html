<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.21" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/images/logo.png"><meta name="theme-color" content="#3498db"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Core Domain-Driven Design Concepts | DomainDrivenJS</title><meta name="description" content="A modern, composition-based Domain-Driven Design library for JavaScript">
    <link rel="preload" href="/domaindrivenjs/assets/style-Cyw_glhd.css" as="style"><link rel="stylesheet" href="/domaindrivenjs/assets/style-Cyw_glhd.css">
    <link rel="modulepreload" href="/domaindrivenjs/assets/app-BRkF6tzu.js"><link rel="modulepreload" href="/domaindrivenjs/assets/index.html-Bl5QGtGC.js">
    <link rel="prefetch" href="/domaindrivenjs/assets/index.html-DzA7iyWp.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/banking.html-DSlgJ4rM.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/e-commerce.html-DZxu7Uah.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/index.html-COzqLGJO.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/task-management.html-MFwALcD2.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/aggregates.html-oSYcCHCj.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/domain-events.html-QBmCJy0G.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/domain-services.html-DhdUOstx.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/entities.html-BSRubU1g.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/index.html-CzwPSi8e.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/repositories.html-DidRadq7.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/specifications.html-DLZb_7i8.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/value-objects.html-DvovA6Ps.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/getting-started.html-DrQ6fqaL.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/quick-start.html-Crwhghl7.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/antipatterns.html-BorCHjdL.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/best-practices.html-Cow7cqZf.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/extending-components.html-48ljEimh.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/testing.html-CeM0E55X.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/aggregates.html-DvJmxkzb.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/domain-events.html-WIyI4M6X.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/domain-services.html-DaaMRXTr.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/entities.html-pwWNTCDc.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/repositories.html-CA6C2WcF.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/specifications.html-CrGUgnHa.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/value-objects.html-z_L4aXnm.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/index.html-ZxKkUp8c.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/strategic-design.html-DnwWllNR.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/tactical-design.html-BsTKIH9n.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/ubiquitous-language.html-BEsESI8v.js" as="script"><link rel="prefetch" href="/domaindrivenjs/assets/404.html-BTbBB9bE.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/domaindrivenjs/"><img class="vp-site-logo" src="/domaindrivenjs/images/logo.png" alt="DomainDrivenJS"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">DomainDrivenJS</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/quick-start.html" aria-label="Quick Start"><!--[--><!--[--><!--]--><!--]-->Quick Start<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/ddd/" aria-label="DDD Fundamentals"><!--[--><!--[--><!--]--><!--]-->DDD Fundamentals<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/domaindrivenjs/guide/core/" aria-label="Core Concepts"><!--[--><!--[--><!--]--><!--]-->Core Concepts<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/advanced/" aria-label="Advanced Topics"><!--[--><!--[--><!--]--><!--]-->Advanced Topics<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/api/" aria-label="API"><!--[--><!--[--><!--]--><!--]-->API<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/examples/" aria-label="Examples"><!--[--><!--[--><!--]--><!--]-->Examples<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/MarcoMuellner/DomainDrivenJS" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search documentation" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/quick-start.html" aria-label="Quick Start"><!--[--><!--[--><!--]--><!--]-->Quick Start<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/ddd/" aria-label="DDD Fundamentals"><!--[--><!--[--><!--]--><!--]-->DDD Fundamentals<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/domaindrivenjs/guide/core/" aria-label="Core Concepts"><!--[--><!--[--><!--]--><!--]-->Core Concepts<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/domaindrivenjs/guide/advanced/" aria-label="Advanced Topics"><!--[--><!--[--><!--]--><!--]-->Advanced Topics<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/api/" aria-label="API"><!--[--><!--[--><!--]--><!--]-->API<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/domaindrivenjs/examples/" aria-label="Examples"><!--[--><!--[--><!--]--><!--]-->Examples<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/MarcoMuellner/DomainDrivenJS" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Introduction <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/getting-started.html" aria-label="Getting Started with DomainDrivenJS"><!--[--><!--[--><!--]--><!--]-->Getting Started with DomainDrivenJS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/quick-start.html" aria-label="Quick Start Guide"><!--[--><!--[--><!--]--><!--]-->Quick Start Guide<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">DDD Fundamentals <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/ddd/" aria-label="Introduction to Domain-Driven Design"><!--[--><!--[--><!--]--><!--]-->Introduction to Domain-Driven Design<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/ddd/strategic-design.html" aria-label="Strategic Design in Domain-Driven Design"><!--[--><!--[--><!--]--><!--]-->Strategic Design in Domain-Driven Design<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/ddd/tactical-design.html" aria-label="Tactical Design in Domain-Driven Design"><!--[--><!--[--><!--]--><!--]-->Tactical Design in Domain-Driven Design<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/ddd/ubiquitous-language.html" aria-label="Ubiquitous Language"><!--[--><!--[--><!--]--><!--]-->Ubiquitous Language<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Core Concepts <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/value-objects.html" aria-label="Understanding Value Objects"><!--[--><!--[--><!--]--><!--]-->Understanding Value Objects<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/entities.html" aria-label="Working with Entities"><!--[--><!--[--><!--]--><!--]-->Working with Entities<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/aggregates.html" aria-label="Working with Aggregates"><!--[--><!--[--><!--]--><!--]-->Working with Aggregates<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/repositories.html" aria-label="Working with Repositories"><!--[--><!--[--><!--]--><!--]-->Working with Repositories<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/domain-events.html" aria-label="Working with Domain Events"><!--[--><!--[--><!--]--><!--]-->Working with Domain Events<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/specifications.html" aria-label="Working with Specifications"><!--[--><!--[--><!--]--><!--]-->Working with Specifications<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/core/domain-services.html" aria-label="Working with Domain Services"><!--[--><!--[--><!--]--><!--]-->Working with Domain Services<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Advanced Topics <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/advanced/extending-components.html" aria-label="Extending DomainDrivenJS Components"><!--[--><!--[--><!--]--><!--]-->Extending DomainDrivenJS Components<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/advanced/testing.html" aria-label="Testing Domain-Driven Design Applications"><!--[--><!--[--><!--]--><!--]-->Testing Domain-Driven Design Applications<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/advanced/best-practices.html" aria-label="Domain-Driven Design Best Practices"><!--[--><!--[--><!--]--><!--]-->Domain-Driven Design Best Practices<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/domaindrivenjs/guide/advanced/antipatterns.html" aria-label="Domain-Driven Design Anti-Patterns"><!--[--><!--[--><!--]--><!--]-->Domain-Driven Design Anti-Patterns<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="core-domain-driven-design-concepts" tabindex="-1"><a class="header-anchor" href="#core-domain-driven-design-concepts"><span>Core Domain-Driven Design Concepts</span></a></h1><p>Domain-Driven Design provides a set of powerful building blocks to express your domain model in code. DomainDrivenJS makes these concepts easy to implement with a modern, functional approach tailored to JavaScript.</p><h2 id="quick-reference" tabindex="-1"><a class="header-anchor" href="#quick-reference"><span>Quick Reference</span></a></h2><table><thead><tr><th>Concept</th><th>Purpose</th><th>Example</th></tr></thead><tbody><tr><td><a href="#value-objects">Value Objects</a></td><td>Immutable objects defined by attributes</td><td>Money, Email, Address</td></tr><tr><td><a href="#entities">Entities</a></td><td>Objects with identity that can change</td><td>User, Order, Product</td></tr><tr><td><a href="#aggregates">Aggregates</a></td><td>Clusters of objects treated as a unit</td><td>Order with OrderItems</td></tr><tr><td><a href="#domain-events">Domain Events</a></td><td>Record of something significant happening</td><td>OrderPlaced, PaymentReceived</td></tr><tr><td><a href="#repositories">Repositories</a></td><td>Provide access to aggregates</td><td>OrderRepository, ProductRepository</td></tr><tr><td><a href="#specifications">Specifications</a></td><td>Encapsulate business rules and queries</td><td>ActiveUsers, OverdueOrders</td></tr><tr><td><a href="#domain-services">Domain Services</a></td><td>Operations across multiple objects</td><td>PaymentProcessor, InventoryAllocator</td></tr></tbody></table><h2 id="value-objects" tabindex="-1"><a class="header-anchor" href="#value-objects"><span>Value Objects</span></a></h2><p>Value objects are immutable objects defined by their attributes rather than their identity. Two value objects with the same attributes are considered equal, regardless of whether they are the same instance.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/value-objects.html">Learn more about Value Objects</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Money value object</span></span>
<span class="line"><span class="token keyword">const</span> price <span class="token operator">=</span> Money<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">29.99</span><span class="token punctuation">,</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">&#39;USD&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> tax <span class="token operator">=</span> Money<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">2.40</span><span class="token punctuation">,</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">&#39;USD&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> total <span class="token operator">=</span> price<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tax<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// New Money object with amount = 32.39</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="entities" tabindex="-1"><a class="header-anchor" href="#entities"><span>Entities</span></a></h2><p>Entities are objects with identity that persists across changes. Unlike value objects, entities are equal only if they have the same identity, even if their attributes differ.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/entities.html">Learn more about Entities</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: User entity</span></span>
<span class="line"><span class="token keyword">const</span> user <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;user-123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;John Doe&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">&#39;john@example.com&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Update returns a new instance with same identity</span></span>
<span class="line"><span class="token keyword">const</span> updatedUser <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token string">&#39;John Smith&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="aggregates" tabindex="-1"><a class="header-anchor" href="#aggregates"><span>Aggregates</span></a></h2><p>Aggregates are clusters of entities and value objects treated as a single unit for data changes. Each aggregate has a root entity that controls access to all members within the boundary.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/aggregates.html">Learn more about Aggregates</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Order aggregate with line items</span></span>
<span class="line"><span class="token keyword">const</span> order <span class="token operator">=</span> Order<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;order-456&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">customerId</span><span class="token operator">:</span> <span class="token string">&#39;customer-789&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&#39;DRAFT&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Add item to the order</span></span>
<span class="line"><span class="token keyword">const</span> updatedOrder <span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="domain-events" tabindex="-1"><a class="header-anchor" href="#domain-events"><span>Domain Events</span></a></h2><p>Domain events represent significant occurrences within your domain that other parts of the system might be interested in. They record what happened, enabling loosely coupled communication between components.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/domain-events.html">Learn more about Domain Events</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Emitting an event when order is placed</span></span>
<span class="line"><span class="token keyword">const</span> placedOrder <span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">placeOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">emitEvent</span><span class="token punctuation">(</span>OrderPlaced<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">orderId</span><span class="token operator">:</span> order<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">customerId</span><span class="token operator">:</span> order<span class="token punctuation">.</span>customerId<span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">orderTotal</span><span class="token operator">:</span> order<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">placedAt</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Handling the event</span></span>
<span class="line">eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>OrderPlaced<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">await</span> notificationService<span class="token punctuation">.</span><span class="token function">sendOrderConfirmation</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>customerId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="repositories" tabindex="-1"><a class="header-anchor" href="#repositories"><span>Repositories</span></a></h2><p>Repositories provide a collection-like interface for accessing and persisting aggregates. They hide the details of data access, allowing your domain model to remain focused on business logic.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/repositories.html">Learn more about Repositories</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Saving and retrieving orders</span></span>
<span class="line"><span class="token keyword">await</span> orderRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> retrievedOrder <span class="token operator">=</span> <span class="token keyword">await</span> orderRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token string">&#39;order-456&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> draftOrders <span class="token operator">=</span> <span class="token keyword">await</span> orderRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&#39;DRAFT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="specifications" tabindex="-1"><a class="header-anchor" href="#specifications"><span>Specifications</span></a></h2><p>Specifications encapsulate business rules and query logic into reusable, composable objects. They can be used for both validation and selection of domain objects.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/specifications.html">Learn more about Specifications</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Finding active premium customers</span></span>
<span class="line"><span class="token keyword">const</span> ActiveCustomer <span class="token operator">=</span> <span class="token function">specification</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ActiveCustomer&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">isSatisfiedBy</span><span class="token operator">:</span> <span class="token parameter">customer</span> <span class="token operator">=&gt;</span> customer<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;ACTIVE&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> PremiumPlan <span class="token operator">=</span> <span class="token function">specification</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;PremiumPlan&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">isSatisfiedBy</span><span class="token operator">:</span> <span class="token parameter">customer</span> <span class="token operator">=&gt;</span> customer<span class="token punctuation">.</span>plan <span class="token operator">===</span> <span class="token string">&#39;PREMIUM&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Composing specifications</span></span>
<span class="line"><span class="token keyword">const</span> ActivePremiumCustomer <span class="token operator">=</span> ActiveCustomer<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>PremiumPlan<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> premiumCustomers <span class="token operator">=</span> <span class="token keyword">await</span> customerRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span>ActivePremiumCustomer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="domain-services" tabindex="-1"><a class="header-anchor" href="#domain-services"><span>Domain Services</span></a></h2><p>Domain services encapsulate operations that don&#39;t conceptually belong to any entity or value object. They&#39;re used for operations that involve multiple domain objects or more complex business logic.</p><p><a class="route-link" href="/domaindrivenjs/guide/core/domain-services.html">Learn more about Domain Services</a></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// Example: Payment processing service</span></span>
<span class="line"><span class="token keyword">const</span> paymentResult <span class="token operator">=</span> <span class="token keyword">await</span> paymentService<span class="token punctuation">.</span><span class="token function">processPayment</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">orderId</span><span class="token operator">:</span> order<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">amount</span><span class="token operator">:</span> order<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">paymentMethod</span><span class="token operator">:</span> customer<span class="token punctuation">.</span>preferredPaymentMethod</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="how-everything-fits-together" tabindex="-1"><a class="header-anchor" href="#how-everything-fits-together"><span>How Everything Fits Together</span></a></h2><p>In a typical domain model:</p><ol><li><strong>Value objects</strong> and <strong>entities</strong> form the building blocks of your model</li><li><strong>Aggregates</strong> group related entities and value objects into consistency boundaries</li><li><strong>Repositories</strong> store and retrieve aggregates</li><li><strong>Specifications</strong> help find the right aggregates</li><li><strong>Domain events</strong> communicate changes between aggregates</li><li><strong>Domain services</strong> coordinate operations across multiple aggregates</li></ol><p>By using these patterns together, you can build a rich, expressive domain model that captures the complexity of your business domain while keeping your code maintainable and flexible.</p><h2 id="next-steps" tabindex="-1"><a class="header-anchor" href="#next-steps"><span>Next Steps</span></a></h2><p>Ready to dive deeper? Choose a concept to explore from the list above, or check out our <a class="route-link" href="/domaindrivenjs/guide/quick-start.html">Quick Start Guide</a> to see these concepts in action.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/MarcoMuellner/DomainDrivenJS/edit/main/docs/guide/core/index.md" aria-label="Help us improve this page!" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Help us improve this page!<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-04-18T12:14:11.000Z" data-allow-mismatch>4/18/25, 12:14 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: muellnermarco@gmail.com">Marco Müllner</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/domaindrivenjs/assets/app-BRkF6tzu.js" defer></script>
  </body>
</html>
